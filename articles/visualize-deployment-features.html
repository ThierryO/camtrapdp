<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Visualize deployment features • camtrapdp</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Visualize deployment features">
<meta property="og:description" content="camtrapdp">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">camtrapdp</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0.9004</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/visualize-deployment-features.html">Visualize deployment features</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/inbo/camtrapdp/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="visualize-deployment-features_files/accessible-code-block-0.0.1/empty-anchor.js"></script><script src="visualize-deployment-features_files/htmlwidgets-1.5.3/htmlwidgets.js"></script><script src="visualize-deployment-features_files/jquery-1.12.4/jquery.min.js"></script><link href="visualize-deployment-features_files/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="visualize-deployment-features_files/leaflet-1.3.1/leaflet.js"></script><link href="visualize-deployment-features_files/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="visualize-deployment-features_files/proj4-2.6.2/proj4.min.js"></script><script src="visualize-deployment-features_files/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="visualize-deployment-features_files/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="visualize-deployment-features_files/leaflet-binding-2.0.4.1/leaflet.js"></script><link href="visualize-deployment-features_files/leaflet-markercluster-1.0.5/MarkerCluster.css" rel="stylesheet">
<link href="visualize-deployment-features_files/leaflet-markercluster-1.0.5/MarkerCluster.Default.css" rel="stylesheet">
<script src="visualize-deployment-features_files/leaflet-markercluster-1.0.5/leaflet.markercluster.js"></script><script src="visualize-deployment-features_files/leaflet-markercluster-1.0.5/leaflet.markercluster.freezable.js"></script><script src="visualize-deployment-features_files/leaflet-markercluster-1.0.5/leaflet.markercluster.layersupport.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Visualize deployment features</h1>
                        <h4 class="author">Damiano Oldoni</h4>
            
            <h4 class="date">2021-04-10</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/inbo/camtrapdp/blob/master/vignettes/visualize-deployment-features.Rmd"><code>vignettes/visualize-deployment-features.Rmd</code></a></small>
      <div class="hidden name"><code>visualize-deployment-features.Rmd</code></div>

    </div>

    
    
<p>This vignette shows how to use function <code><a href="../reference/map_dep.html">map_dep()</a></code> to visualize two important deployment features on a leaflet map:</p>
<ul>
<li>number of identified species</li>
<li>number of observations</li>
</ul>
<div id="setup" class="section level2">
<h2 class="hasAnchor">
<a href="#setup" class="anchor"></a>Setup</h2>
<p>Load packages:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">camtrapdp</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://lubridate.tidyverse.org">lubridate</a></span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'lubridate'</span>
<span class="co">#&gt; The following objects are masked from 'package:base':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     date, intersect, setdiff, union</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'dplyr'</span>
<span class="co">#&gt; The following objects are masked from 'package:stats':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     filter, lag</span>
<span class="co">#&gt; The following objects are masked from 'package:base':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     intersect, setdiff, setequal, union</span></code></pre></div>
<p>This load automatically a camera trap data package, <code>camtrapdp</code>, containing camera trap data about musk rat and coypu. We will use this variable from now on.</p>
</div>
<div id="create-map" class="section level2">
<h2 class="hasAnchor">
<a href="#create-map" class="anchor"></a>Create map</h2>
<p>As some features must or could be used in combination with a species name, it’s sometimes useful to have an idea first about which species have been detected:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/get_species.html">get_species</a></span><span class="op">(</span><span class="va">camtrapdp</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 5 x 2</span>
<span class="co">#&gt;   scientific_name     vernacular_name</span>
<span class="co">#&gt;   &lt;chr&gt;               &lt;chr&gt;          </span>
<span class="co">#&gt; 1 Anas platyrhynchos  Mallard        </span>
<span class="co">#&gt; 2 Rattus norvegicus   Norway Rat     </span>
<span class="co">#&gt; 3 Ondatra zibethicus  Muskrat        </span>
<span class="co">#&gt; 4 Myocastor coypus    Coypu          </span>
<span class="co">#&gt; 5 Gallinula chloropus Common Moorhen</span></code></pre></div>
<div id="basic-usage" class="section level3">
<h3 class="hasAnchor">
<a href="#basic-usage" class="anchor"></a>Basic usage</h3>
<p>You can visualize the number of species detected by each deployment by using the function <code><a href="../reference/map_dep.html">map_dep()</a></code> with <code>feature</code> argument set to <code>n_species</code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/map_dep.html">map_dep</a></span><span class="op">(</span><span class="va">camtrapdp</span>,
        feature <span class="op">=</span> <span class="st">"n_species"</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-09bf54c2ff37463a0ead" style="width:700px;height:432.632880098888px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-09bf54c2ff37463a0ead">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircleMarkers","args":[[51.27502,51.28343,51.26617,51.27905],[3.55083,3.56688,3.59061,3.63418],[50,26,18,34],null,null,{"interactive":true,"className":"","stroke":false,"color":["#0000FF","#C4A2FF","#E3D0FF","#A074FF"],"weight":5,"opacity":0.5,"fill":true,"fillColor":["#0000FF","#C4A2FF","#E3D0FF","#A074FF"],"fillOpacity":0.5},{"showCoverageOnHover":true,"zoomToBoundsOnClick":true,"spiderfyOnMaxZoom":true,"removeOutsideVisibleBounds":true,"spiderLegPolylineOptions":{"weight":1.5,"color":"#222","opacity":0.5},"freezeAtZoom":false},null,null,null,["<p>deployment ID: 3b94f935-020f-49d8-bd59-1736f8a266c4<\/p><p>location ID: 9a72bd3a-2243-4ced-af9f-34df32483e55<\/p><p>location name: B_ML_val 03_De Val<\/p><p>longitude: 3.55083<\/p><p>latitude: 51.27502<\/p><p>start: 2020-06-03 20:19:10<\/p><p>end: 2020-07-03 20:57:38<\/p><p>species observed: 5<\/p>","<p>deployment ID: 6b1199ac-e6e4-4eb4-a625-6ee8f9db09f1<\/p><p>location ID: 91d9abdd-da56-49a0-8c07-fa6305f39d6c<\/p><p>location name: B_ML_val 05_molenkreek<\/p><p>longitude: 3.56688<\/p><p>latitude: 51.28343<\/p><p>start: 2020-06-03 20:10:18<\/p><p>end: 2020-06-24 22:34:13<\/p><p>species observed: 2<\/p>","<p>deployment ID: 9e84c750-e8fa-4502-ae12-cc6c75532f5a<\/p><p>location ID: 56128022-6061-4b59-b15a-65da16115780<\/p><p>location name: B_ML_val 06_Oostpolderkreek<\/p><p>longitude: 3.59061<\/p><p>latitude: 51.26617<\/p><p>start: 2020-06-03 20:04:33<\/p><p>end: 2020-06-07 00:26:51<\/p><p>species observed: 1<\/p>","<p>deployment ID: fff2f46e-8163-453c-9044-61fb77587f5d<\/p><p>location ID: 7c989f1e-4fcb-4584-ae47-cdcdc6e34d06<\/p><p>location name: B_ML_val 07_Sint-Anna<\/p><p>longitude: 3.63418<\/p><p>latitude: 51.27905<\/p><p>start: 2020-06-03 21:12:52<\/p><p>end: 2020-06-08 00:14:41<\/p><p>species observed: 3<\/p>"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLegend","args":[{"colors":["#FFFFFF , #FFFFFF 0%, #E3D0FF 20%, #C4A2FF 40%, #A074FF 60%, #7145FF 80%, #0000FF 100%, #0000FF "],"labels":["0","1","2","3","4","5"],"na_color":null,"na_label":"","opacity":1,"position":"bottomright","type":"numeric","title":"Number of detected species","extra":{"p_1":0,"p_n":1},"layerId":null,"className":"info legend","group":null}]}],"limits":{"lat":[51.26617,51.28343],"lng":[3.55083,3.63418]}},"evals":[],"jsHooks":[]}</script><p>To visualize the number of observations, set <code>feature</code> = <code>n_obs</code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/map_dep.html">map_dep</a></span><span class="op">(</span><span class="va">camtrapdp</span>,
        feature <span class="op">=</span> <span class="st">"n_obs"</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-e8af12982d606788d130" style="width:700px;height:432.632880098888px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-e8af12982d606788d130">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircleMarkers","args":[[51.27502,51.28343,51.26617,51.27905],[3.55083,3.56688,3.59061,3.63418],[50,29.0396659707724,13.5073068893528,16.5970772442589],null,null,{"interactive":true,"className":"","stroke":false,"color":["#0000FF","#B791FF","#F3EAFF","#E8D8FF"],"weight":5,"opacity":0.5,"fill":true,"fillColor":["#0000FF","#B791FF","#F3EAFF","#E8D8FF"],"fillOpacity":0.5},{"showCoverageOnHover":true,"zoomToBoundsOnClick":true,"spiderfyOnMaxZoom":true,"removeOutsideVisibleBounds":true,"spiderLegPolylineOptions":{"weight":1.5,"color":"#222","opacity":0.5},"freezeAtZoom":false},null,null,null,["<p>deployment ID: 3b94f935-020f-49d8-bd59-1736f8a266c4<\/p><p>location ID: 9a72bd3a-2243-4ced-af9f-34df32483e55<\/p><p>location name: B_ML_val 03_De Val<\/p><p>longitude: 3.55083<\/p><p>latitude: 51.27502<\/p><p>start: 2020-06-03 20:19:10<\/p><p>end: 2020-07-03 20:57:38<\/p><p>observations: 479<\/p>","<p>deployment ID: 6b1199ac-e6e4-4eb4-a625-6ee8f9db09f1<\/p><p>location ID: 91d9abdd-da56-49a0-8c07-fa6305f39d6c<\/p><p>location name: B_ML_val 05_molenkreek<\/p><p>longitude: 3.56688<\/p><p>latitude: 51.28343<\/p><p>start: 2020-06-03 20:10:18<\/p><p>end: 2020-06-24 22:34:13<\/p><p>observations: 228<\/p>","<p>deployment ID: 9e84c750-e8fa-4502-ae12-cc6c75532f5a<\/p><p>location ID: 56128022-6061-4b59-b15a-65da16115780<\/p><p>location name: B_ML_val 06_Oostpolderkreek<\/p><p>longitude: 3.59061<\/p><p>latitude: 51.26617<\/p><p>start: 2020-06-03 20:04:33<\/p><p>end: 2020-06-07 00:26:51<\/p><p>observations: 42<\/p>","<p>deployment ID: fff2f46e-8163-453c-9044-61fb77587f5d<\/p><p>location ID: 7c989f1e-4fcb-4584-ae47-cdcdc6e34d06<\/p><p>location name: B_ML_val 07_Sint-Anna<\/p><p>longitude: 3.63418<\/p><p>latitude: 51.27905<\/p><p>start: 2020-06-03 21:12:52<\/p><p>end: 2020-06-08 00:14:41<\/p><p>observations: 79<\/p>"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLegend","args":[{"colors":["#FFFFFF , #FFFFFF 0%, #E2CEFF 20.8768267223382%, #C19EFF 41.7536534446764%, #9A6EFF 62.6304801670146%, #663DFF 83.5073068893528%, #0000FF "],"labels":["0","100","200","300","400"],"na_color":null,"na_label":"","opacity":1,"position":"bottomright","type":"numeric","title":"Number of observations","extra":{"p_1":0,"p_n":0.835073068893528},"layerId":null,"className":"info legend","group":null}]}],"limits":{"lat":[51.26617,51.28343],"lng":[3.55083,3.63418]}},"evals":[],"jsHooks":[]}</script><p>You can also specify which species you want to calculate the number of observations:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/map_dep.html">map_dep</a></span><span class="op">(</span><span class="va">camtrapdp</span>,
        feature <span class="op">=</span> <span class="st">"n_obs"</span>,
        species <span class="op">=</span> <span class="st">"Rattus norvegicus"</span><span class="op">)</span>
<span class="co">#&gt; There are 2 deployments with no observations: 6b1199ac-e6e4-4eb4-a625-6ee8f9db09f1 and 9e84c750-e8fa-4502-ae12-cc6c75532f5a</span></code></pre></div>
<div id="htmlwidget-7b40aced646cb4fe813c" style="width:700px;height:432.632880098888px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-7b40aced646cb4fe813c">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircleMarkers","args":[[51.27502,51.28343,51.26617,51.27905],[3.55083,3.56688,3.59061,3.63418],[50,10,10,11.3930348258706],null,null,{"interactive":true,"className":"","stroke":false,"color":["#0000FF","#FFFFFF","#FFFFFF","#FAF7FF"],"weight":5,"opacity":0.5,"fill":true,"fillColor":["#0000FF","#FFFFFF","#FFFFFF","#FAF7FF"],"fillOpacity":0.5},{"showCoverageOnHover":true,"zoomToBoundsOnClick":true,"spiderfyOnMaxZoom":true,"removeOutsideVisibleBounds":true,"spiderLegPolylineOptions":{"weight":1.5,"color":"#222","opacity":0.5},"freezeAtZoom":false},null,null,null,["<p>deployment ID: 3b94f935-020f-49d8-bd59-1736f8a266c4<\/p><p>location ID: 9a72bd3a-2243-4ced-af9f-34df32483e55<\/p><p>location name: B_ML_val 03_De Val<\/p><p>longitude: 3.55083<\/p><p>latitude: 51.27502<\/p><p>start: 2020-06-03 20:19:10<\/p><p>end: 2020-07-03 20:57:38<\/p><p>observations: 201<\/p>","<p>deployment ID: 6b1199ac-e6e4-4eb4-a625-6ee8f9db09f1<\/p><p>location ID: 91d9abdd-da56-49a0-8c07-fa6305f39d6c<\/p><p>location name: B_ML_val 05_molenkreek<\/p><p>longitude: 3.56688<\/p><p>latitude: 51.28343<\/p><p>start: 2020-06-03 20:10:18<\/p><p>end: 2020-06-24 22:34:13<\/p><p>observations: 0<\/p>","<p>deployment ID: 9e84c750-e8fa-4502-ae12-cc6c75532f5a<\/p><p>location ID: 56128022-6061-4b59-b15a-65da16115780<\/p><p>location name: B_ML_val 06_Oostpolderkreek<\/p><p>longitude: 3.59061<\/p><p>latitude: 51.26617<\/p><p>start: 2020-06-03 20:04:33<\/p><p>end: 2020-06-07 00:26:51<\/p><p>observations: 0<\/p>","<p>deployment ID: fff2f46e-8163-453c-9044-61fb77587f5d<\/p><p>location ID: 7c989f1e-4fcb-4584-ae47-cdcdc6e34d06<\/p><p>location name: B_ML_val 07_Sint-Anna<\/p><p>longitude: 3.63418<\/p><p>latitude: 51.27905<\/p><p>start: 2020-06-03 21:12:52<\/p><p>end: 2020-06-08 00:14:41<\/p><p>observations: 7<\/p>"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLegend","args":[{"colors":["#FFFFFF , #FFFFFF 0%, #DCC5FF 24.8756218905473%, #B38CFF 49.7512437810945%, #7F52FF 74.6268656716418%, #0C03FF 99.5024875621891%, #0000FF "],"labels":["0","50","100","150","200"],"na_color":null,"na_label":"","opacity":1,"position":"bottomright","type":"numeric","title":"Number of observations","extra":{"p_1":0,"p_n":0.995024875621891},"layerId":null,"className":"info legend","group":null}]}],"limits":{"lat":[51.26617,51.28343],"lng":[3.55083,3.63418]}},"evals":[],"jsHooks":[]}</script><p>To visualize the Relative Abundance Index (RAI) for a species, set <code>feature</code> = <code>rai</code> and specify a species using its scientific name:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/map_dep.html">map_dep</a></span><span class="op">(</span><span class="va">camtrapdp</span>,
        feature <span class="op">=</span> <span class="st">"rai"</span>,
        species <span class="op">=</span> <span class="st">"Rattus norvegicus"</span><span class="op">)</span>
<span class="co">#&gt; There are 2 deployments with no observations: 6b1199ac-e6e4-4eb4-a625-6ee8f9db09f1 and 9e84c750-e8fa-4502-ae12-cc6c75532f5a</span></code></pre></div>
<div id="htmlwidget-42449abc4bbbb67ab09e" style="width:700px;height:432.632880098888px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-42449abc4bbbb67ab09e">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircleMarkers","args":[[51.27502,51.28343,51.26617,51.27905],[3.55083,3.56688,3.59061,3.63418],[50,10,10,20.1370831957533],null,null,{"interactive":true,"className":"","stroke":false,"color":["#0000FF","#FFFFFF","#FFFFFF","#DBC4FF"],"weight":5,"opacity":0.5,"fill":true,"fillColor":["#0000FF","#FFFFFF","#FFFFFF","#DBC4FF"],"fillOpacity":0.5},{"showCoverageOnHover":true,"zoomToBoundsOnClick":true,"spiderfyOnMaxZoom":true,"removeOutsideVisibleBounds":true,"spiderLegPolylineOptions":{"weight":1.5,"color":"#222","opacity":0.5},"freezeAtZoom":false},null,null,null,["<p>deployment ID: 3b94f935-020f-49d8-bd59-1736f8a266c4<\/p><p>location ID: 9a72bd3a-2243-4ced-af9f-34df32483e55<\/p><p>location name: B_ML_val 03_De Val<\/p><p>longitude: 3.55083<\/p><p>latitude: 51.27502<\/p><p>start: 2020-06-03 20:19:10<\/p><p>end: 2020-07-03 20:57:38<\/p><p>RAI: 669.403941243677<\/p>","<p>deployment ID: 6b1199ac-e6e4-4eb4-a625-6ee8f9db09f1<\/p><p>location ID: 91d9abdd-da56-49a0-8c07-fa6305f39d6c<\/p><p>location name: B_ML_val 05_molenkreek<\/p><p>longitude: 3.56688<\/p><p>latitude: 51.28343<\/p><p>start: 2020-06-03 20:10:18<\/p><p>end: 2020-06-24 22:34:13<\/p><p>RAI: 0<\/p>","<p>deployment ID: 9e84c750-e8fa-4502-ae12-cc6c75532f5a<\/p><p>location ID: 56128022-6061-4b59-b15a-65da16115780<\/p><p>location name: B_ML_val 06_Oostpolderkreek<\/p><p>longitude: 3.59061<\/p><p>latitude: 51.26617<\/p><p>start: 2020-06-03 20:04:33<\/p><p>end: 2020-06-07 00:26:51<\/p><p>RAI: 0<\/p>","<p>deployment ID: fff2f46e-8163-453c-9044-61fb77587f5d<\/p><p>location ID: 7c989f1e-4fcb-4584-ae47-cdcdc6e34d06<\/p><p>location name: B_ML_val 07_Sint-Anna<\/p><p>longitude: 3.63418<\/p><p>latitude: 51.27905<\/p><p>start: 2020-06-03 21:12:52<\/p><p>end: 2020-06-08 00:14:41<\/p><p>RAI: 169.645086098808<\/p>"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLegend","args":[{"colors":["#FFFFFF , #FFFFFF 0%, #EBDCFF 14.9476831091181%, #D5B9FF 29.8953662182362%, #BC97FF 44.8430493273543%, #A075FF 59.7907324364723%, #7F52FF 74.7384155455904%, #512CFF 89.6860986547085%, #0200FF "],"labels":["0","100","200","300","400","500","600"],"na_color":null,"na_label":"","opacity":1,"position":"bottomright","type":"numeric","title":"RAI","extra":{"p_1":0,"p_n":0.896860986547085},"layerId":null,"className":"info legend","group":null}]}],"limits":{"lat":[51.26617,51.28343],"lng":[3.55083,3.63418]}},"evals":[],"jsHooks":[]}</script><p>Common names are allowed as well:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/map_dep.html">map_dep</a></span><span class="op">(</span><span class="va">camtrapdp</span>,
        feature <span class="op">=</span> <span class="st">"rai"</span>,
        species <span class="op">=</span> <span class="st">"muskrat"</span><span class="op">)</span>
<span class="co">#&gt; Scientific name of muskrat: Ondatra zibethicus</span>
<span class="co">#&gt; There are 1 deployments with no observations: 9e84c750-e8fa-4502-ae12-cc6c75532f5a</span></code></pre></div>
<div id="htmlwidget-6350b0a472b29d87b9c8" style="width:700px;height:432.632880098888px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-6350b0a472b29d87b9c8">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircleMarkers","args":[[51.27502,51.28343,51.26617,51.27905],[3.55083,3.56688,3.59061,3.63418],[26.4903627479852,17.8223182769393,10,50],null,null,{"interactive":true,"className":"","stroke":false,"color":["#C29FFF","#E4D1FF","#FFFFFF","#0000FF"],"weight":5,"opacity":0.5,"fill":true,"fillColor":["#C29FFF","#E4D1FF","#FFFFFF","#0000FF"],"fillOpacity":0.5},{"showCoverageOnHover":true,"zoomToBoundsOnClick":true,"spiderfyOnMaxZoom":true,"removeOutsideVisibleBounds":true,"spiderLegPolylineOptions":{"weight":1.5,"color":"#222","opacity":0.5},"freezeAtZoom":false},null,null,null,["<p>deployment ID: 3b94f935-020f-49d8-bd59-1736f8a266c4<\/p><p>location ID: 9a72bd3a-2243-4ced-af9f-34df32483e55<\/p><p>location name: B_ML_val 03_De Val<\/p><p>longitude: 3.55083<\/p><p>latitude: 51.27502<\/p><p>start: 2020-06-03 20:19:10<\/p><p>end: 2020-07-03 20:57:38<\/p><p>RAI: 9.99110360065189<\/p>","<p>deployment ID: 6b1199ac-e6e4-4eb4-a625-6ee8f9db09f1<\/p><p>location ID: 91d9abdd-da56-49a0-8c07-fa6305f39d6c<\/p><p>location name: B_ML_val 05_molenkreek<\/p><p>longitude: 3.56688<\/p><p>latitude: 51.28343<\/p><p>start: 2020-06-03 20:10:18<\/p><p>end: 2020-06-24 22:34:13<\/p><p>RAI: 4.73934949137016<\/p>","<p>deployment ID: 9e84c750-e8fa-4502-ae12-cc6c75532f5a<\/p><p>location ID: 56128022-6061-4b59-b15a-65da16115780<\/p><p>location name: B_ML_val 06_Oostpolderkreek<\/p><p>longitude: 3.59061<\/p><p>latitude: 51.26617<\/p><p>start: 2020-06-03 20:04:33<\/p><p>end: 2020-06-07 00:26:51<\/p><p>RAI: 0<\/p>","<p>deployment ID: fff2f46e-8163-453c-9044-61fb77587f5d<\/p><p>location ID: 7c989f1e-4fcb-4584-ae47-cdcdc6e34d06<\/p><p>location name: B_ML_val 07_Sint-Anna<\/p><p>longitude: 3.63418<\/p><p>latitude: 51.27905<\/p><p>start: 2020-06-03 21:12:52<\/p><p>end: 2020-06-08 00:14:41<\/p><p>RAI: 24.2350122998297<\/p>"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLegend","args":[{"colors":["#FFFFFF , #FFFFFF 0%, #E2CFFF 20.8333333333333%, #C29FFF 41.6666666666667%, #9C70FF 62.5%, #693FFF 83.3333333333333%, #1506FF "],"labels":["0","5","10","15","20"],"na_color":null,"na_label":"","opacity":1,"position":"bottomright","type":"numeric","title":"RAI","extra":{"p_1":0,"p_n":0.833333333333333},"layerId":null,"className":"info legend","group":null}]}],"limits":{"lat":[51.26617,51.28343],"lng":[3.55083,3.63418]}},"evals":[],"jsHooks":[]}</script><p>Argument <code>species</code> is also case insensitive:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/map_dep.html">map_dep</a></span><span class="op">(</span><span class="va">camtrapdp</span>,
        feature <span class="op">=</span> <span class="st">"n_obs"</span>,
        species <span class="op">=</span> <span class="st">"ONDATRA zIBethICus"</span><span class="op">)</span>
<span class="co">#&gt; There are 1 deployments with no observations: 9e84c750-e8fa-4502-ae12-cc6c75532f5a</span></code></pre></div>
<div id="htmlwidget-910f1acd5300ccdd6dac" style="width:700px;height:432.632880098888px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-910f1acd5300ccdd6dac">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircleMarkers","args":[[51.27502,51.28343,51.26617,51.27905],[3.55083,3.56688,3.59061,3.63418],[50,23.3333333333333,10,23.3333333333333],null,null,{"interactive":true,"className":"","stroke":false,"color":["#0000FF","#CFB1FF","#FFFFFF","#CFB1FF"],"weight":5,"opacity":0.5,"fill":true,"fillColor":["#0000FF","#CFB1FF","#FFFFFF","#CFB1FF"],"fillOpacity":0.5},{"showCoverageOnHover":true,"zoomToBoundsOnClick":true,"spiderfyOnMaxZoom":true,"removeOutsideVisibleBounds":true,"spiderLegPolylineOptions":{"weight":1.5,"color":"#222","opacity":0.5},"freezeAtZoom":false},null,null,null,["<p>deployment ID: 3b94f935-020f-49d8-bd59-1736f8a266c4<\/p><p>location ID: 9a72bd3a-2243-4ced-af9f-34df32483e55<\/p><p>location name: B_ML_val 03_De Val<\/p><p>longitude: 3.55083<\/p><p>latitude: 51.27502<\/p><p>start: 2020-06-03 20:19:10<\/p><p>end: 2020-07-03 20:57:38<\/p><p>observations: 3<\/p>","<p>deployment ID: 6b1199ac-e6e4-4eb4-a625-6ee8f9db09f1<\/p><p>location ID: 91d9abdd-da56-49a0-8c07-fa6305f39d6c<\/p><p>location name: B_ML_val 05_molenkreek<\/p><p>longitude: 3.56688<\/p><p>latitude: 51.28343<\/p><p>start: 2020-06-03 20:10:18<\/p><p>end: 2020-06-24 22:34:13<\/p><p>observations: 1<\/p>","<p>deployment ID: 9e84c750-e8fa-4502-ae12-cc6c75532f5a<\/p><p>location ID: 56128022-6061-4b59-b15a-65da16115780<\/p><p>location name: B_ML_val 06_Oostpolderkreek<\/p><p>longitude: 3.59061<\/p><p>latitude: 51.26617<\/p><p>start: 2020-06-03 20:04:33<\/p><p>end: 2020-06-07 00:26:51<\/p><p>observations: 0<\/p>","<p>deployment ID: fff2f46e-8163-453c-9044-61fb77587f5d<\/p><p>location ID: 7c989f1e-4fcb-4584-ae47-cdcdc6e34d06<\/p><p>location name: B_ML_val 07_Sint-Anna<\/p><p>longitude: 3.63418<\/p><p>latitude: 51.27905<\/p><p>start: 2020-06-03 21:12:52<\/p><p>end: 2020-06-08 00:14:41<\/p><p>observations: 1<\/p>"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLegend","args":[{"colors":["#FFFFFF , #FFFFFF 0%, #CFB1FF 33.3333333333333%, #9265FF 66.6666666666667%, #0000FF 100%, #0000FF "],"labels":["0","1","2","3"],"na_color":null,"na_label":"","opacity":1,"position":"bottomright","type":"numeric","title":"Number of observations","extra":{"p_1":0,"p_n":1},"layerId":null,"className":"info legend","group":null}]}],"limits":{"lat":[51.26617,51.28343],"lng":[3.55083,3.63418]}},"evals":[],"jsHooks":[]}</script><p>If <code>species</code> is not specified or is wrong, an informative error message listing all valid values is returned:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">testthat</span><span class="fu">::</span><span class="fu"><a href="https://testthat.r-lib.org/reference/expect_error.html">expect_error</a></span><span class="op">(</span>
  <span class="fu"><a href="../reference/map_dep.html">map_dep</a></span><span class="op">(</span><span class="va">camtrapdp</span>,
          feature <span class="op">=</span> <span class="st">"rai"</span>,
          species <span class="op">=</span> <span class="st">"This is not a species name"</span><span class="op">)</span>, 
  <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"Invalid value for species argument.\n"</span>,
         <span class="st">"Valid inputs are: anas platyrhynchos, rattus norvegicus, "</span>,
         <span class="st">"ondatra zibethicus, myocastor coypus, gallinula chloropus, "</span>, 
         <span class="st">"mallard, norway rat, muskrat, coypu and common moorhen."</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
</div>
<div id="clustering-and-hovering" class="section level3">
<h3 class="hasAnchor">
<a href="#clustering-and-hovering" class="anchor"></a>Clustering and hovering</h3>
<p>You can specify which information you want to show while hovering with the mouse over the deployment. You can choose among all columns from deployments (see allowed fields in <a href="https://tdwg.github.io/camtrap-dp/data/#deployments">camera trap data package standard documentation</a>) and <code>n</code> (number of species, number of observations or RAI).</p>
<p>Here below the lat/lon, the camera height and the tags are shown while hovering:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/map_dep.html">map_dep</a></span><span class="op">(</span><span class="va">camtrapdp</span>,
        hover_columns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"latitude"</span>,
                          <span class="st">"longitude"</span>,
                          <span class="st">"camera_height"</span>,
                          <span class="st">"tags"</span><span class="op">)</span>,
        feature <span class="op">=</span> <span class="st">"n_obs"</span>
<span class="op">)</span></code></pre></div>
<div id="htmlwidget-cb1e45685a850a013c88" style="width:700px;height:432.632880098888px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-cb1e45685a850a013c88">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircleMarkers","args":[[51.27502,51.28343,51.26617,51.27905],[3.55083,3.56688,3.59061,3.63418],[50,29.0396659707724,13.5073068893528,16.5970772442589],null,null,{"interactive":true,"className":"","stroke":false,"color":["#0000FF","#B791FF","#F3EAFF","#E8D8FF"],"weight":5,"opacity":0.5,"fill":true,"fillColor":["#0000FF","#B791FF","#F3EAFF","#E8D8FF"],"fillOpacity":0.5},{"showCoverageOnHover":true,"zoomToBoundsOnClick":true,"spiderfyOnMaxZoom":true,"removeOutsideVisibleBounds":true,"spiderLegPolylineOptions":{"weight":1.5,"color":"#222","opacity":0.5},"freezeAtZoom":false},null,null,null,["<p>longitude: 3.55083<\/p><p>latitude: 51.27502<\/p><p>camera height: 100<\/p><p>tags: boven de stroom<\/p>","<p>longitude: 3.56688<\/p><p>latitude: 51.28343<\/p><p>camera height: 100<\/p><p>tags: boven de stroom<\/p>","<p>longitude: 3.59061<\/p><p>latitude: 51.26617<\/p><p>camera height: 100<\/p><p>tags: boven de stroom<\/p>","<p>longitude: 3.63418<\/p><p>latitude: 51.27905<\/p><p>camera height: 100<\/p><p>tags: boven de stroom<\/p>"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLegend","args":[{"colors":["#FFFFFF , #FFFFFF 0%, #E2CEFF 20.8768267223382%, #C19EFF 41.7536534446764%, #9A6EFF 62.6304801670146%, #663DFF 83.5073068893528%, #0000FF "],"labels":["0","100","200","300","400"],"na_color":null,"na_label":"","opacity":1,"position":"bottomright","type":"numeric","title":"Number of observations","extra":{"p_1":0,"p_n":0.835073068893528},"layerId":null,"className":"info legend","group":null}]}],"limits":{"lat":[51.26617,51.28343],"lng":[3.55083,3.63418]}},"evals":[],"jsHooks":[]}</script><p>Deactivating both cluster mode and hovering is also possible:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/map_dep.html">map_dep</a></span><span class="op">(</span><span class="va">camtrapdp</span>,
        feature <span class="op">=</span> <span class="st">"n_species"</span>, 
        cluster <span class="op">=</span> <span class="cn">FALSE</span>,
        hover_columns <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-6675372378b2cf34d5a6" style="width:700px;height:432.632880098888px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-6675372378b2cf34d5a6">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircleMarkers","args":[[51.27502,51.28343,51.26617,51.27905],[3.55083,3.56688,3.59061,3.63418],[50,26,18,34],null,null,{"interactive":true,"className":"","stroke":false,"color":["#0000FF","#C4A2FF","#E3D0FF","#A074FF"],"weight":5,"opacity":0.5,"fill":true,"fillColor":["#0000FF","#C4A2FF","#E3D0FF","#A074FF"],"fillOpacity":0.5},null,null,null,null,[null,null,null,null],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLegend","args":[{"colors":["#FFFFFF , #FFFFFF 0%, #E3D0FF 20%, #C4A2FF 40%, #A074FF 60%, #7145FF 80%, #0000FF 100%, #0000FF "],"labels":["0","1","2","3","4","5"],"na_color":null,"na_label":"","opacity":1,"position":"bottomright","type":"numeric","title":"Number of detected species","extra":{"p_1":0,"p_n":1},"layerId":null,"className":"info legend","group":null}]}],"limits":{"lat":[51.26617,51.28343],"lng":[3.55083,3.63418]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="visualize-deployments-without-detected-aniamals" class="section level3">
<h3 class="hasAnchor">
<a href="#visualize-deployments-without-detected-aniamals" class="anchor"></a>Visualize deployments without detected aniamals</h3>
<p>It can happen that some deployments didn’t observe any animal. While visualizing the number of species, they are shown in the map as gray circles and a message is returned to the R console:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># create data package with less observations</span>
<span class="va">camtrapdp_less_obs</span> <span class="op">&lt;-</span> <span class="va">camtrapdp</span>
<span class="va">camtrapdp_less_obs</span><span class="op">$</span><span class="va">observations</span> <span class="op">&lt;-</span> 
  <span class="va">camtrapdp</span><span class="op">$</span><span class="va">observations</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">timestamp</span> <span class="op">&gt;</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="http://lubridate.tidyverse.org/reference/as_date.html">as_datetime</a></span><span class="op">(</span><span class="st">"2020-06-30"</span><span class="op">)</span><span class="op">)</span>

<span class="co"># create new map</span>
<span class="fu"><a href="../reference/map_dep.html">map_dep</a></span><span class="op">(</span><span class="va">camtrapdp_less_obs</span>,
        feature <span class="op">=</span> <span class="st">"n_species"</span><span class="op">)</span>
<span class="co">#&gt; There are 3 deployments with no observations: 6b1199ac-e6e4-4eb4-a625-6ee8f9db09f1, 9e84c750-e8fa-4502-ae12-cc6c75532f5a and fff2f46e-8163-453c-9044-61fb77587f5d</span></code></pre></div>
<div id="htmlwidget-e4bdd9c94841730d9f9d" style="width:700px;height:432.632880098888px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-e4bdd9c94841730d9f9d">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircleMarkers","args":[[51.27502,51.28343,51.26617,51.27905],[3.55083,3.56688,3.59061,3.63418],[50,10,10,10],null,null,{"interactive":true,"className":"","stroke":false,"color":["#0000FF","#808080","#808080","#808080"],"weight":5,"opacity":0.5,"fill":true,"fillColor":["#0000FF","#808080","#808080","#808080"],"fillOpacity":0.5},{"showCoverageOnHover":true,"zoomToBoundsOnClick":true,"spiderfyOnMaxZoom":true,"removeOutsideVisibleBounds":true,"spiderLegPolylineOptions":{"weight":1.5,"color":"#222","opacity":0.5},"freezeAtZoom":false},null,null,null,["<p>deployment ID: 3b94f935-020f-49d8-bd59-1736f8a266c4<\/p><p>location ID: 9a72bd3a-2243-4ced-af9f-34df32483e55<\/p><p>location name: B_ML_val 03_De Val<\/p><p>longitude: 3.55083<\/p><p>latitude: 51.27502<\/p><p>start: 2020-06-03 20:19:10<\/p><p>end: 2020-07-03 20:57:38<\/p><p>species observed: 5<\/p>","<p>deployment ID: 6b1199ac-e6e4-4eb4-a625-6ee8f9db09f1<\/p><p>location ID: 91d9abdd-da56-49a0-8c07-fa6305f39d6c<\/p><p>location name: B_ML_val 05_molenkreek<\/p><p>longitude: 3.56688<\/p><p>latitude: 51.28343<\/p><p>start: 2020-06-03 20:10:18<\/p><p>end: 2020-06-24 22:34:13<\/p><p>species observed: NA<\/p>","<p>deployment ID: 9e84c750-e8fa-4502-ae12-cc6c75532f5a<\/p><p>location ID: 56128022-6061-4b59-b15a-65da16115780<\/p><p>location name: B_ML_val 06_Oostpolderkreek<\/p><p>longitude: 3.59061<\/p><p>latitude: 51.26617<\/p><p>start: 2020-06-03 20:04:33<\/p><p>end: 2020-06-07 00:26:51<\/p><p>species observed: NA<\/p>","<p>deployment ID: fff2f46e-8163-453c-9044-61fb77587f5d<\/p><p>location ID: 7c989f1e-4fcb-4584-ae47-cdcdc6e34d06<\/p><p>location name: B_ML_val 07_Sint-Anna<\/p><p>longitude: 3.63418<\/p><p>latitude: 51.27905<\/p><p>start: 2020-06-03 21:12:52<\/p><p>end: 2020-06-08 00:14:41<\/p><p>species observed: NA<\/p>"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLegend","args":[{"colors":["#FFFFFF , #FFFFFF 0%, #E3D0FF 20%, #C4A2FF 40%, #A074FF 60%, #7145FF 80%, #0000FF 100%, #0000FF "],"labels":["0","1","2","3","4","5"],"na_color":null,"na_label":"","opacity":1,"position":"bottomright","type":"numeric","title":"Number of detected species","extra":{"p_1":0,"p_n":1},"layerId":null,"className":"info legend","group":null}]}],"limits":{"lat":[51.26617,51.28343],"lng":[3.55083,3.63418]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="modify-circle-size" class="section level3">
<h3 class="hasAnchor">
<a href="#modify-circle-size" class="anchor"></a>Modify circle size</h3>
<p>You can also modify the upper and lower limit of the circle sizes by specifying <code>radius_range</code> (default: <code>c(10,50</code>):</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/map_dep.html">map_dep</a></span><span class="op">(</span><span class="va">camtrapdp</span>,
        feature <span class="op">=</span> <span class="st">"n_obs"</span>,
        radius_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">150</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-c7d14534afe59a722d40" style="width:700px;height:432.632880098888px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-c7d14534afe59a722d40">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircleMarkers","args":[[51.27502,51.28343,51.26617,51.27905],[3.55083,3.56688,3.59061,3.63418],[150,81.8789144050104,31.3987473903967,41.4405010438413],null,null,{"interactive":true,"className":"","stroke":false,"color":["#0000FF","#B791FF","#F3EAFF","#E8D8FF"],"weight":5,"opacity":0.5,"fill":true,"fillColor":["#0000FF","#B791FF","#F3EAFF","#E8D8FF"],"fillOpacity":0.5},{"showCoverageOnHover":true,"zoomToBoundsOnClick":true,"spiderfyOnMaxZoom":true,"removeOutsideVisibleBounds":true,"spiderLegPolylineOptions":{"weight":1.5,"color":"#222","opacity":0.5},"freezeAtZoom":false},null,null,null,["<p>deployment ID: 3b94f935-020f-49d8-bd59-1736f8a266c4<\/p><p>location ID: 9a72bd3a-2243-4ced-af9f-34df32483e55<\/p><p>location name: B_ML_val 03_De Val<\/p><p>longitude: 3.55083<\/p><p>latitude: 51.27502<\/p><p>start: 2020-06-03 20:19:10<\/p><p>end: 2020-07-03 20:57:38<\/p><p>observations: 479<\/p>","<p>deployment ID: 6b1199ac-e6e4-4eb4-a625-6ee8f9db09f1<\/p><p>location ID: 91d9abdd-da56-49a0-8c07-fa6305f39d6c<\/p><p>location name: B_ML_val 05_molenkreek<\/p><p>longitude: 3.56688<\/p><p>latitude: 51.28343<\/p><p>start: 2020-06-03 20:10:18<\/p><p>end: 2020-06-24 22:34:13<\/p><p>observations: 228<\/p>","<p>deployment ID: 9e84c750-e8fa-4502-ae12-cc6c75532f5a<\/p><p>location ID: 56128022-6061-4b59-b15a-65da16115780<\/p><p>location name: B_ML_val 06_Oostpolderkreek<\/p><p>longitude: 3.59061<\/p><p>latitude: 51.26617<\/p><p>start: 2020-06-03 20:04:33<\/p><p>end: 2020-06-07 00:26:51<\/p><p>observations: 42<\/p>","<p>deployment ID: fff2f46e-8163-453c-9044-61fb77587f5d<\/p><p>location ID: 7c989f1e-4fcb-4584-ae47-cdcdc6e34d06<\/p><p>location name: B_ML_val 07_Sint-Anna<\/p><p>longitude: 3.63418<\/p><p>latitude: 51.27905<\/p><p>start: 2020-06-03 21:12:52<\/p><p>end: 2020-06-08 00:14:41<\/p><p>observations: 79<\/p>"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLegend","args":[{"colors":["#FFFFFF , #FFFFFF 0%, #E2CEFF 20.8768267223382%, #C19EFF 41.7536534446764%, #9A6EFF 62.6304801670146%, #663DFF 83.5073068893528%, #0000FF "],"labels":["0","100","200","300","400"],"na_color":null,"na_label":"","opacity":1,"position":"bottomright","type":"numeric","title":"Number of observations","extra":{"p_1":0,"p_n":0.835073068893528},"layerId":null,"className":"info legend","group":null}]}],"limits":{"lat":[51.26617,51.28343],"lng":[3.55083,3.63418]}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="use-absolute-scale" class="section level3">
<h3 class="hasAnchor">
<a href="#use-absolute-scale" class="anchor"></a>Use absolute scale</h3>
<p>By default the color palette is defined based on the actual number of detected species. However, sometimes can be useful to set up an absolute upper limit. This can be done by setting argument <code>relative_color_scale</code> to <code>FALSE</code> and specifying the upper limit in <code>max_color_scale</code>.</p>
<p>Upper limit lower than number of detected species:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/map_dep.html">map_dep</a></span><span class="op">(</span><span class="va">camtrapdp</span>,
        feature <span class="op">=</span> <span class="st">"n_species"</span>,
        relative_color_scale <span class="op">=</span> <span class="cn">FALSE</span>,
        max_color_scale <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-a30d4bc1fa9b3718c231" style="width:700px;height:432.632880098888px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-a30d4bc1fa9b3718c231">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircleMarkers","args":[[51.27502,51.28343,51.26617,51.27905],[3.55083,3.56688,3.59061,3.63418],[50,36.6666666666667,23.3333333333333,50],null,null,{"interactive":true,"className":"","stroke":false,"color":["#0000FF","#9265FF","#CFB1FF","#0000FF"],"weight":5,"opacity":0.5,"fill":true,"fillColor":["#0000FF","#9265FF","#CFB1FF","#0000FF"],"fillOpacity":0.5},{"showCoverageOnHover":true,"zoomToBoundsOnClick":true,"spiderfyOnMaxZoom":true,"removeOutsideVisibleBounds":true,"spiderLegPolylineOptions":{"weight":1.5,"color":"#222","opacity":0.5},"freezeAtZoom":false},null,null,null,["<p>deployment ID: 3b94f935-020f-49d8-bd59-1736f8a266c4<\/p><p>location ID: 9a72bd3a-2243-4ced-af9f-34df32483e55<\/p><p>location name: B_ML_val 03_De Val<\/p><p>longitude: 3.55083<\/p><p>latitude: 51.27502<\/p><p>start: 2020-06-03 20:19:10<\/p><p>end: 2020-07-03 20:57:38<\/p><p>species observed: 5<\/p>","<p>deployment ID: 6b1199ac-e6e4-4eb4-a625-6ee8f9db09f1<\/p><p>location ID: 91d9abdd-da56-49a0-8c07-fa6305f39d6c<\/p><p>location name: B_ML_val 05_molenkreek<\/p><p>longitude: 3.56688<\/p><p>latitude: 51.28343<\/p><p>start: 2020-06-03 20:10:18<\/p><p>end: 2020-06-24 22:34:13<\/p><p>species observed: 2<\/p>","<p>deployment ID: 9e84c750-e8fa-4502-ae12-cc6c75532f5a<\/p><p>location ID: 56128022-6061-4b59-b15a-65da16115780<\/p><p>location name: B_ML_val 06_Oostpolderkreek<\/p><p>longitude: 3.59061<\/p><p>latitude: 51.26617<\/p><p>start: 2020-06-03 20:04:33<\/p><p>end: 2020-06-07 00:26:51<\/p><p>species observed: 1<\/p>","<p>deployment ID: fff2f46e-8163-453c-9044-61fb77587f5d<\/p><p>location ID: 7c989f1e-4fcb-4584-ae47-cdcdc6e34d06<\/p><p>location name: B_ML_val 07_Sint-Anna<\/p><p>longitude: 3.63418<\/p><p>latitude: 51.27905<\/p><p>start: 2020-06-03 21:12:52<\/p><p>end: 2020-06-08 00:14:41<\/p><p>species observed: 3<\/p>"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLegend","args":[{"colors":["#FFFFFF , #FFFFFF 0%, #CFB1FF 33.3333333333333%, #9265FF 66.6666666666667%, #0000FF 100%, #0000FF "],"labels":["0","1","2","3+"],"na_color":null,"na_label":"","opacity":1,"position":"bottomright","type":"numeric","title":"Number of detected species","extra":{"p_1":0,"p_n":1},"layerId":null,"className":"info legend","group":null}]}],"limits":{"lat":[51.26617,51.28343],"lng":[3.55083,3.63418]}},"evals":[],"jsHooks":[]}</script><p>Upper limit higher than number of detected species:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/map_dep.html">map_dep</a></span><span class="op">(</span><span class="va">camtrapdp</span>,
        feature <span class="op">=</span> <span class="st">"n_species"</span>,,
        relative_color_scale <span class="op">=</span> <span class="cn">FALSE</span>,
        max_color_scale <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-4a278a68b93cf139566f" style="width:700px;height:432.632880098888px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-4a278a68b93cf139566f">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircleMarkers","args":[[51.27502,51.28343,51.26617,51.27905],[3.55083,3.56688,3.59061,3.63418],[50,26,18,34],null,null,{"interactive":true,"className":"","stroke":false,"color":["#B38BFF","#E3D0FF","#F2E7FF","#D4B9FF"],"weight":5,"opacity":0.5,"fill":true,"fillColor":["#B38BFF","#E3D0FF","#F2E7FF","#D4B9FF"],"fillOpacity":0.5},{"showCoverageOnHover":true,"zoomToBoundsOnClick":true,"spiderfyOnMaxZoom":true,"removeOutsideVisibleBounds":true,"spiderLegPolylineOptions":{"weight":1.5,"color":"#222","opacity":0.5},"freezeAtZoom":false},null,null,null,["<p>deployment ID: 3b94f935-020f-49d8-bd59-1736f8a266c4<\/p><p>location ID: 9a72bd3a-2243-4ced-af9f-34df32483e55<\/p><p>location name: B_ML_val 03_De Val<\/p><p>longitude: 3.55083<\/p><p>latitude: 51.27502<\/p><p>start: 2020-06-03 20:19:10<\/p><p>end: 2020-07-03 20:57:38<\/p><p>species observed: 5<\/p>","<p>deployment ID: 6b1199ac-e6e4-4eb4-a625-6ee8f9db09f1<\/p><p>location ID: 91d9abdd-da56-49a0-8c07-fa6305f39d6c<\/p><p>location name: B_ML_val 05_molenkreek<\/p><p>longitude: 3.56688<\/p><p>latitude: 51.28343<\/p><p>start: 2020-06-03 20:10:18<\/p><p>end: 2020-06-24 22:34:13<\/p><p>species observed: 2<\/p>","<p>deployment ID: 9e84c750-e8fa-4502-ae12-cc6c75532f5a<\/p><p>location ID: 56128022-6061-4b59-b15a-65da16115780<\/p><p>location name: B_ML_val 06_Oostpolderkreek<\/p><p>longitude: 3.59061<\/p><p>latitude: 51.26617<\/p><p>start: 2020-06-03 20:04:33<\/p><p>end: 2020-06-07 00:26:51<\/p><p>species observed: 1<\/p>","<p>deployment ID: fff2f46e-8163-453c-9044-61fb77587f5d<\/p><p>location ID: 7c989f1e-4fcb-4584-ae47-cdcdc6e34d06<\/p><p>location name: B_ML_val 07_Sint-Anna<\/p><p>longitude: 3.63418<\/p><p>latitude: 51.27905<\/p><p>start: 2020-06-03 21:12:52<\/p><p>end: 2020-06-08 00:14:41<\/p><p>species observed: 3<\/p>"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addLegend","args":[{"colors":["#FFFFFF , #FFFFFF 0%, #E3D0FF 20%, #C4A2FF 40%, #A074FF 60%, #7145FF 80%, #0000FF 100%, #0000FF "],"labels":["0","2","4","6","8","10+"],"na_color":null,"na_label":"","opacity":1,"position":"bottomright","type":"numeric","title":"Number of detected species","extra":{"p_1":0,"p_n":1},"layerId":null,"className":"info legend","group":null}]}],"limits":{"lat":[51.26617,51.28343],"lng":[3.55083,3.63418]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://twitter.com/damianozingaro">Damiano Oldoni</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
